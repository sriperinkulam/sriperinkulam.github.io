<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>2020-04 on Srikanth Perinkulam</title>
    <link>https://srikanthperinkulam.com/month/2020-04/index.xml</link>
    <description>Recent content in 2020-04 on Srikanth Perinkulam</description>
    <image>
      <url>https://srikanthperinkulam.com/images/favicon/apple-touch-icon.png</url>
      <link>https://srikanthperinkulam.com/images/favicon/apple-touch-icon.png</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Tue, 28 Apr 2020 00:00:00 +0000</lastBuildDate><atom:link href="https://srikanthperinkulam.com/month/2020-04/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>28 Apr 2020 00:00</title>
      <link>https://srikanthperinkulam.com/2020/04/28/deploying-known-on-a-docker-stack/</link>
      <pubDate>Tue, 28 Apr 2020 00:00:00 +0000</pubDate>
      
      <guid>https://srikanthperinkulam.com/2020/04/28/deploying-known-on-a-docker-stack/</guid>
      <description>&lt;p&gt;To migrate my php applications that did not have a handy docker-compose available, I needed a vanilla setup for my stack-based docker environment. &lt;a href=&#34;https://withknown.com/opensource/&#34;&gt;Known&lt;/a&gt; is one of those apps and so the first step was to build that PHP environment.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Setting up a Dockerhub repository and building a custom PHP image&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;[If you decide to use my image, you would not have to build this yourself. Skip ahead to the Deploying Known section]&lt;/p&gt;
&lt;p&gt;Most php based apps also need specific extensions built-in. While I am sure they&amp;rsquo;re out there on the Docker hub repository, I was not able to easily find any images that met my specific needs [php extensions for gd, zip, pdo_mysql etc]. So I went ahead and &lt;a href=&#34;https://hub.docker.com/r/sriperinkulam/php-7.4.3-apache-buster-plus&#34;&gt;setup my own repository on Docker Hub&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Something I learnt today was that a docker stack only accepts pre-built images. Which essentially means you cannot use the regular &lt;a href=&#34;https://docs.docker.com/engine/reference/commandline/build/&#34;&gt;build command&lt;/a&gt; on the fly in your docker-compose file. A quick work-around to that is to build the image locally and then publish it to a public repository from where the stack can easily access it.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create a dockerfile: &lt;code&gt;sudo nano dockerfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Copy over contents from &lt;a href=&#34;https://gist.github.com/sriperinkulam/26d8702d946a8bad22d7623892be816c&#34;&gt;my dockerfile gist&lt;/a&gt;. Edit or update if you need any additional extensions. Do note that I am pulling a debian buster image here. An alpine image would be optimal but lets&amp;rsquo; run with this for now.&lt;/li&gt;
&lt;li&gt;Build the image locally: &lt;code&gt;docker build -t sriperinkulam/php-7.4.3-apache-buster-plus:latest .&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Edit the image and tag name as needed. If your gist file is defined correctly, the image should be ready in a few minutes. It took me a few iterations to get this working with all the extensions I needed and shouldn&amp;rsquo;t give you any errors during the build process.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Login to your Dockerhub repo: &lt;code&gt;docker login&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Push your image over to your repository: &lt;code&gt;docker push sriperinkulam/php-7.4.3-apache-buster-plus:latest&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Within a few minutes, your image should be available for easy fetch whenever needed!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Setting up and deploying the Known install&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create a folder for the known installation:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;sudo mkdir known &amp;amp;&amp;amp; cd known&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Copy over my &amp;lsquo;known.yml&amp;rsquo; gist from &lt;a href=&#34;https://gist.github.com/sriperinkulam/9ea9b57a052629ed5b75071c2bafdb00&#34;&gt;here&lt;/a&gt; and paste into a known.yml file.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;sudo nano known.yml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This is where we use the image we built earlier! Make sure you update the passwords there-in.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create an &amp;lsquo;app&amp;rsquo; folder. This is where we will copy in the core known package.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;sudo mkdir app &amp;amp;&amp;amp; cd app&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.marcus-povey.co.uk/known/&#34;&gt;Marcus Povey&lt;/a&gt; does the heavy lifting of packaging the known install &amp;lsquo;unofficially&amp;rsquo;. Download his latest pre-packaged release from &lt;a href=&#34;https://withknown.marcus-povey.co.uk/&#34;&gt;his portal&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;wget https://withknown.marcus-povey.co.uk/&amp;lt;package&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Finally unzip/untar the package.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Step back into the main &amp;lsquo;known&amp;rsquo; directory and deploy the stack that we defined in the known.yml file.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;cd ..&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;DOMAIN=known.domain.org SCHEME=https docker stack deploy -c known.yml known&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Assuming you&amp;rsquo;ve already setup the traefik container, as mentioned in my &lt;a href=&#34;https://srikanthperinkulam.com/2020/04/19/self-hosting-jitsi-video-conferencing/&#34;&gt;Jitsi post&lt;/a&gt;, you should now have Known up and running. Navigate to the domain and you should see the warmup page.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Key in the db credentials that you setup in the &lt;em&gt;known.yml&lt;/em&gt; file. The database would need to be set as &lt;em&gt;mariadb,&lt;/em&gt; since that&amp;rsquo;s how we&amp;rsquo;ve defined it in the known.yml file. Also make sure you have the &lt;em&gt;Uploads&lt;/em&gt; folder writable by www-data:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;sudo chown -R www-data /var/www/html/Uploads/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Setup your user account and proceed with the regular administration controls!&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<p>To migrate my php applications that did not have a handy docker-compose available, I needed a vanilla setup for my stack-based docker environment. <a href="https://withknown.com/opensource/">Known</a> is one of those apps and so the first step was to build that PHP environment.</p>
<p><strong>Setting up a Dockerhub repository and building a custom PHP image</strong></p>
<p>[If you decide to use my image, you would not have to build this yourself. Skip ahead to the Deploying Known section]</p>
<p>Most php based apps also need specific extensions built-in. While I am sure they&rsquo;re out there on the Docker hub repository, I was not able to easily find any images that met my specific needs [php extensions for gd, zip, pdo_mysql etc]. So I went ahead and <a href="https://hub.docker.com/r/sriperinkulam/php-7.4.3-apache-buster-plus">setup my own repository on Docker Hub</a>.</p>
<p>Something I learnt today was that a docker stack only accepts pre-built images. Which essentially means you cannot use the regular <a href="https://docs.docker.com/engine/reference/commandline/build/">build command</a> on the fly in your docker-compose file. A quick work-around to that is to build the image locally and then publish it to a public repository from where the stack can easily access it.</p>
<ul>
<li>Create a dockerfile: <code>sudo nano dockerfile</code></li>
<li>Copy over contents from <a href="https://gist.github.com/sriperinkulam/26d8702d946a8bad22d7623892be816c">my dockerfile gist</a>. Edit or update if you need any additional extensions. Do note that I am pulling a debian buster image here. An alpine image would be optimal but lets&rsquo; run with this for now.</li>
<li>Build the image locally: <code>docker build -t sriperinkulam/php-7.4.3-apache-buster-plus:latest .</code></li>
</ul>
<p>Edit the image and tag name as needed. If your gist file is defined correctly, the image should be ready in a few minutes. It took me a few iterations to get this working with all the extensions I needed and shouldn&rsquo;t give you any errors during the build process.</p>
<ul>
<li>Login to your Dockerhub repo: <code>docker login</code></li>
<li>Push your image over to your repository: <code>docker push sriperinkulam/php-7.4.3-apache-buster-plus:latest</code></li>
<li>Within a few minutes, your image should be available for easy fetch whenever needed!</li>
</ul>
<p> </p>
<p><strong>Setting up and deploying the Known install</strong></p>
<ul>
<li>Create a folder for the known installation:</li>
</ul>
<p><code>sudo mkdir known &amp;&amp; cd known</code></p>
<ul>
<li>Copy over my &lsquo;known.yml&rsquo; gist from <a href="https://gist.github.com/sriperinkulam/9ea9b57a052629ed5b75071c2bafdb00">here</a> and paste into a known.yml file.</li>
</ul>
<p><code>sudo nano known.yml</code></p>
<p>This is where we use the image we built earlier! Make sure you update the passwords there-in.</p>
<ul>
<li>Create an &lsquo;app&rsquo; folder. This is where we will copy in the core known package.</li>
</ul>
<p><code>sudo mkdir app &amp;&amp; cd app</code></p>
<p><a href="https://www.marcus-povey.co.uk/known/">Marcus Povey</a> does the heavy lifting of packaging the known install &lsquo;unofficially&rsquo;. Download his latest pre-packaged release from <a href="https://withknown.marcus-povey.co.uk/">his portal</a>.</p>
<p><code>wget https://withknown.marcus-povey.co.uk/&lt;package&gt;</code></p>
<p>Finally unzip/untar the package.</p>
<ul>
<li>Step back into the main &lsquo;known&rsquo; directory and deploy the stack that we defined in the known.yml file.</li>
</ul>
<p><code>cd ..</code></p>
<p><code>DOMAIN=known.domain.org SCHEME=https docker stack deploy -c known.yml known</code></p>
<ul>
<li>
<p>Assuming you&rsquo;ve already setup the traefik container, as mentioned in my <a href="https://srikanthperinkulam.com/2020/04/19/self-hosting-jitsi-video-conferencing/">Jitsi post</a>, you should now have Known up and running. Navigate to the domain and you should see the warmup page.</p>
</li>
<li>
<p>Key in the db credentials that you setup in the <em>known.yml</em> file. The database would need to be set as <em>mariadb,</em> since that&rsquo;s how we&rsquo;ve defined it in the known.yml file. Also make sure you have the <em>Uploads</em> folder writable by www-data:</p>
</li>
</ul>
<p><code>sudo chown -R www-data /var/www/html/Uploads/</code></p>
<p>Setup your user account and proceed with the regular administration controls!</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>24 Apr 2020 00:00</title>
      <link>https://srikanthperinkulam.com/2020/04/24/weeknote-17-covid19-webmentions-and-migrations/</link>
      <pubDate>Fri, 24 Apr 2020 00:00:00 +0000</pubDate>
      
      <guid>https://srikanthperinkulam.com/2020/04/24/weeknote-17-covid19-webmentions-and-migrations/</guid>
      <description>&lt;p&gt;&lt;em&gt;A glimpse of the past week and the few articles, podcasts, tools, videos and music that captivated my attention:&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This week I got a better handle at deploying and maintaining docker images. With that squared out, I decided to decommission the Digital Ocean servers that I had setup &lt;a href=&#34;https://srikanthperinkulam.com/2017/03/02/migrations-workflows/&#34;&gt;back in 2017&lt;/a&gt; and migrate the applications over to my Hetzner server. I no longer have to rely on ServerPilot. All my applications are now deployed as docker containers fronted by #Traefik as a reverse proxy.&lt;/p&gt;
&lt;p&gt;The jitsi server instance I &lt;a href=&#34;https://srikanthperinkulam.com/2020/04/19/self-hosting-jitsi-video-conferencing/&#34;&gt;deployed last week&lt;/a&gt; has been serving pretty well so far! I tweaked it further to enable &lt;a href=&#34;https://blog.radiumz.org/en/article/local-recording-jitsi-meet&#34;&gt;local recording&lt;/a&gt;. Meena has been using it to run her online Yoga sessions and she can now also use it to record the podcast that she soon plans to start! Session recording and live-streaming is something I still need to configure in my current setup. The logs indicate it&amp;rsquo;s failing on the Jibri handshake and that&amp;rsquo;s something I&amp;rsquo;ll need to figure out once I have a bit more time in hand.&lt;/p&gt;
&lt;p&gt;Other actionable tasks on the tech front include figuring out a swift way to deploy PHP based applications on Docker. I still need to port over my Known and &lt;a href=&#34;https://pixel.srkn.org/sriperinkulam&#34;&gt;PixelFed&lt;/a&gt; applications.&lt;/p&gt;
&lt;p&gt;Last week, &lt;a href=&#34;http://www.philipbrewer.net/&#34;&gt;Philip&lt;/a&gt; nudged me to look into my webmentions. The theme I previously had wasn&amp;rsquo;t displaying them as comments. I needed a bit of a &amp;lsquo;creativity boost&amp;rsquo; and decided to use a new theme. Really liked the McLuhan theme by &lt;a href=&#34;https://www.andersnoren.se/teman/mcluhan-wordpress-theme/&#34;&gt;Anders Noren&lt;/a&gt; and decided to give it a spin. Noticed &lt;a href=&#34;https://wordpress.org/support/topic/mcluhan-comments-fetched-are-from-a-different-post/#new-topic-0&#34;&gt;a minor issue with the comments section&lt;/a&gt; and was easily able to fix it. I do however want to make a few tweaks to it, which I hopefully will get around attending to over the next few weeks. I also have my eye on &lt;a href=&#34;https://prtksxna.com/&#34;&gt;Prateek&lt;/a&gt;&amp;rsquo;s &lt;a href=&#34;https://wordpress.org/themes/zuari/&#34;&gt;Zuari theme&lt;/a&gt; which is deeply &lt;a href=&#34;https://indieweb.org/&#34;&gt;indieweb&lt;/a&gt; compliant.&lt;/p&gt;
&lt;p&gt;Last evening, &lt;a href=&#34;https://atchuth.wordpress.com/&#34;&gt;Atchuth&lt;/a&gt; mentioned he&amp;rsquo;s now using his RPi4 as a full fledged desktop machine. He&amp;rsquo;s moved over from DietPi to the Raspbian OS. Makes sense given his current use-case. Sharath on the other hand is still using his RPi 4 predominantly as a Nextcloud server.&lt;/p&gt;
&lt;p&gt;This week has been great in terms of re-connecting with some good old friends! We&amp;rsquo;re planning a re-union sometime next year. 20 year since we finished school! Phew!&lt;/p&gt;
&lt;p&gt;The Khat-pat makers group that I am part of is now getting more traction and it&amp;rsquo;s awesome just hearing out the cool things that other folks are doing. This week&amp;rsquo;s session was on building drones from scratch!&lt;/p&gt;
&lt;p&gt;I also got around connecting with the kids I taught 10 years ago! They&amp;rsquo;ve all moved on to college and are into various things now. One kid wanted to become a stellar teacher and this  is one of the best messages I&amp;rsquo;ve received so far!&lt;/p&gt;
&lt;p&gt;Last night we played a few good rounds of Pictionary/Dumb-charades with the kids. Shasta had a terrific time just watching the &amp;lsquo;adults&amp;rsquo; in their elements. You never get too old for this game!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Interesting podcasts this week&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Picturing Data: Monocle&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://monocle.com/extensions/monocle/bin/mp3&#34;&gt;https://monocle.com/extensions/monocle/bin/mp3&lt;/a&gt;_downloader.php?file=https://api.soundcloud.com/tracks/788260468/download/&amp;amp;filename=monocle_on_design_442.mp3&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Interesting tools this week&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;https://termux.com/&#34;&gt;Termux app&lt;/a&gt; has been an amazing value-add to my phone for those quick server check-in&amp;rsquo;s!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Interesting reads this week&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://outline.com/agNcAx&#34;&gt;‘We can’t go back to normal’: How will coronavirus change the world?&lt;/a&gt;: 2020 will be etched in the memories of most people living today as one that drastically changed how we as humans functioned. As Covid19 spreads across various countries, it&amp;rsquo;s influencing and compelling dire actions. What was considered to be impossible at various level, is now just a quick decision point - Financial stimulus, vaccine production, remote work and schooling to name a prominent few. As we build resistance to the virus as a society and consequently as the adrenaline that&amp;rsquo;s currently rampant drains out, we&amp;rsquo;re going to see the fallout&amp;rsquo;s of our actions or several inaction&amp;rsquo;s thereof. Assuming another event of this magnitude does not occur over the next decade, the world is going to need a major overhaul to recover from the pandemic.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://bag.srkn.org/share/5ea2f0cbab1fa1.31532716&#34;&gt;Beginner&amp;rsquo;s guide to PGP&lt;/a&gt;: A simple and easy read on PGP with actionable guidance for non-tech folks out there. It&amp;rsquo;s given that over the next few months most countries are going to erode into the privacy of its citizens. Policies that are brought into effect now for surveillance and tracing will overarchingly become the norm and will be almost impossible to retract. It&amp;rsquo;s critical that we act now to safeguard what little privacy we can. It&amp;rsquo;s never been about - &amp;lsquo;There&amp;rsquo;s nothing that I have to hide.&amp;rsquo; Ignorance can and will heavily be mis-appropriated for someone else&amp;rsquo;s benefit.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://bag.srkn.org/share/5e9ecbae16ccb0.15652872&#34;&gt;Why one Neuroscientist started blasting his core&lt;/a&gt;: Neural pathways, stress control systems and of course the adrenal medula. Yet another fascinating read on how amazing the human body is!&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://bag.srkn.org/share/5ea68cce89b171.88947262&#34;&gt;How Saudi Arabia&amp;rsquo;s religious project transformed Indonesia&lt;/a&gt;: Religion, politics and power are so damned intertwined. If anything, its one of those defining necessities and vices of humanity.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://bag.srkn.org/share/5ea68e112d5251.85133599&#34;&gt;It&amp;rsquo;s time to build&lt;/a&gt;: So beautifully phrased! It&amp;rsquo;s high time we dusted those tarp sheets and get to build from ground-up. Over time we&amp;rsquo;ve become complacent as a society and we need one strong re-boot!&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<p><em>A glimpse of the past week and the few articles, podcasts, tools, videos and music that captivated my attention:</em></p>
<p>This week I got a better handle at deploying and maintaining docker images. With that squared out, I decided to decommission the Digital Ocean servers that I had setup <a href="https://srikanthperinkulam.com/2017/03/02/migrations-workflows/">back in 2017</a> and migrate the applications over to my Hetzner server. I no longer have to rely on ServerPilot. All my applications are now deployed as docker containers fronted by #Traefik as a reverse proxy.</p>
<p>The jitsi server instance I <a href="https://srikanthperinkulam.com/2020/04/19/self-hosting-jitsi-video-conferencing/">deployed last week</a> has been serving pretty well so far! I tweaked it further to enable <a href="https://blog.radiumz.org/en/article/local-recording-jitsi-meet">local recording</a>. Meena has been using it to run her online Yoga sessions and she can now also use it to record the podcast that she soon plans to start! Session recording and live-streaming is something I still need to configure in my current setup. The logs indicate it&rsquo;s failing on the Jibri handshake and that&rsquo;s something I&rsquo;ll need to figure out once I have a bit more time in hand.</p>
<p>Other actionable tasks on the tech front include figuring out a swift way to deploy PHP based applications on Docker. I still need to port over my Known and <a href="https://pixel.srkn.org/sriperinkulam">PixelFed</a> applications.</p>
<p>Last week, <a href="http://www.philipbrewer.net/">Philip</a> nudged me to look into my webmentions. The theme I previously had wasn&rsquo;t displaying them as comments. I needed a bit of a &lsquo;creativity boost&rsquo; and decided to use a new theme. Really liked the McLuhan theme by <a href="https://www.andersnoren.se/teman/mcluhan-wordpress-theme/">Anders Noren</a> and decided to give it a spin. Noticed <a href="https://wordpress.org/support/topic/mcluhan-comments-fetched-are-from-a-different-post/#new-topic-0">a minor issue with the comments section</a> and was easily able to fix it. I do however want to make a few tweaks to it, which I hopefully will get around attending to over the next few weeks. I also have my eye on <a href="https://prtksxna.com/">Prateek</a>&rsquo;s <a href="https://wordpress.org/themes/zuari/">Zuari theme</a> which is deeply <a href="https://indieweb.org/">indieweb</a> compliant.</p>
<p>Last evening, <a href="https://atchuth.wordpress.com/">Atchuth</a> mentioned he&rsquo;s now using his RPi4 as a full fledged desktop machine. He&rsquo;s moved over from DietPi to the Raspbian OS. Makes sense given his current use-case. Sharath on the other hand is still using his RPi 4 predominantly as a Nextcloud server.</p>
<p>This week has been great in terms of re-connecting with some good old friends! We&rsquo;re planning a re-union sometime next year. 20 year since we finished school! Phew!</p>
<p>The Khat-pat makers group that I am part of is now getting more traction and it&rsquo;s awesome just hearing out the cool things that other folks are doing. This week&rsquo;s session was on building drones from scratch!</p>
<p>I also got around connecting with the kids I taught 10 years ago! They&rsquo;ve all moved on to college and are into various things now. One kid wanted to become a stellar teacher and this  is one of the best messages I&rsquo;ve received so far!</p>
<p>Last night we played a few good rounds of Pictionary/Dumb-charades with the kids. Shasta had a terrific time just watching the &lsquo;adults&rsquo; in their elements. You never get too old for this game!</p>
<p><strong>Interesting podcasts this week</strong></p>
<p>Picturing Data: Monocle</p>
<p><a href="https://monocle.com/extensions/monocle/bin/mp3">https://monocle.com/extensions/monocle/bin/mp3</a>_downloader.php?file=https://api.soundcloud.com/tracks/788260468/download/&amp;filename=monocle_on_design_442.mp3</p>
<p><strong>Interesting tools this week</strong></p>
<p>The <a href="https://termux.com/">Termux app</a> has been an amazing value-add to my phone for those quick server check-in&rsquo;s!</p>
<p><strong>Interesting reads this week</strong></p>
<p><a href="https://outline.com/agNcAx">‘We can’t go back to normal’: How will coronavirus change the world?</a>: 2020 will be etched in the memories of most people living today as one that drastically changed how we as humans functioned. As Covid19 spreads across various countries, it&rsquo;s influencing and compelling dire actions. What was considered to be impossible at various level, is now just a quick decision point - Financial stimulus, vaccine production, remote work and schooling to name a prominent few. As we build resistance to the virus as a society and consequently as the adrenaline that&rsquo;s currently rampant drains out, we&rsquo;re going to see the fallout&rsquo;s of our actions or several inaction&rsquo;s thereof. Assuming another event of this magnitude does not occur over the next decade, the world is going to need a major overhaul to recover from the pandemic.</p>
<p><a href="https://bag.srkn.org/share/5ea2f0cbab1fa1.31532716">Beginner&rsquo;s guide to PGP</a>: A simple and easy read on PGP with actionable guidance for non-tech folks out there. It&rsquo;s given that over the next few months most countries are going to erode into the privacy of its citizens. Policies that are brought into effect now for surveillance and tracing will overarchingly become the norm and will be almost impossible to retract. It&rsquo;s critical that we act now to safeguard what little privacy we can. It&rsquo;s never been about - &lsquo;There&rsquo;s nothing that I have to hide.&rsquo; Ignorance can and will heavily be mis-appropriated for someone else&rsquo;s benefit.</p>
<p><a href="https://bag.srkn.org/share/5e9ecbae16ccb0.15652872">Why one Neuroscientist started blasting his core</a>: Neural pathways, stress control systems and of course the adrenal medula. Yet another fascinating read on how amazing the human body is!</p>
<p><a href="https://bag.srkn.org/share/5ea68cce89b171.88947262">How Saudi Arabia&rsquo;s religious project transformed Indonesia</a>: Religion, politics and power are so damned intertwined. If anything, its one of those defining necessities and vices of humanity.</p>
<p><a href="https://bag.srkn.org/share/5ea68e112d5251.85133599">It&rsquo;s time to build</a>: So beautifully phrased! It&rsquo;s high time we dusted those tarp sheets and get to build from ground-up. Over time we&rsquo;ve become complacent as a society and we need one strong re-boot!</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>19 Apr 2020 00:00</title>
      <link>https://srikanthperinkulam.com/2020/04/19/moving-files-from-all-subdirectories-without-the-tree-structure/</link>
      <pubDate>Sun, 19 Apr 2020 00:00:00 +0000</pubDate>
      
      <guid>https://srikanthperinkulam.com/2020/04/19/moving-files-from-all-subdirectories-without-the-tree-structure/</guid>
      <description>&lt;p&gt;Appa, who&amp;rsquo;s very active on Facebook, recently wanted an easy way to sift through his old videos and photos that were up on his account. I decided to take a dump of his data from the network using the &lt;a href=&#34;https://www.facebook.com/dyi/&#34;&gt;download your information&lt;/a&gt; section. I initiated the process with just a few clicks and after a few days, I was able to download the zipped files of all the content he had posted on FB. including the likes, messages, shares etc. If you haven&amp;rsquo;t already, I would strongly recommend you get a copy of your data. I rarely interact on Facebook these days so it was even more interesting to see all the information they collect on you.&lt;/p&gt;
&lt;p&gt;Anyways, once I had the zipped files, I wanted to sift through the folder structure and copy over all the media from it to a specific location. Using a combination of the tree and find commands this was pretty straightforward. Logging them here for later reference:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;List files with tree hierarchy:&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;tree&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Find all files within the current directory and nested sub-directories and move them to specific folder:&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;find . -print -name &amp;quot;*_.*_&amp;quot; -type f -exec mv -n {} /path/to/destination/directory/ \;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Once I had the files [Totally about 25Gb], I realised I had to move them over to my dad&amp;rsquo;s machine. Good old &lt;a href=&#34;https://syncthing.net/&#34;&gt;Syncthing&lt;/a&gt; came to use here to send over the files.&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<p>Appa, who&rsquo;s very active on Facebook, recently wanted an easy way to sift through his old videos and photos that were up on his account. I decided to take a dump of his data from the network using the <a href="https://www.facebook.com/dyi/">download your information</a> section. I initiated the process with just a few clicks and after a few days, I was able to download the zipped files of all the content he had posted on FB. including the likes, messages, shares etc. If you haven&rsquo;t already, I would strongly recommend you get a copy of your data. I rarely interact on Facebook these days so it was even more interesting to see all the information they collect on you.</p>
<p>Anyways, once I had the zipped files, I wanted to sift through the folder structure and copy over all the media from it to a specific location. Using a combination of the tree and find commands this was pretty straightforward. Logging them here for later reference:</p>
<p><em>List files with tree hierarchy:</em></p>
<p><code>tree</code></p>
<p><em>Find all files within the current directory and nested sub-directories and move them to specific folder:</em></p>
<p><code>find . -print -name &quot;*_.*_&quot; -type f -exec mv -n {} /path/to/destination/directory/ \;</code></p>
<p>Once I had the files [Totally about 25Gb], I realised I had to move them over to my dad&rsquo;s machine. Good old <a href="https://syncthing.net/">Syncthing</a> came to use here to send over the files.</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>19 Apr 2020 00:00</title>
      <link>https://srikanthperinkulam.com/2020/04/19/self-hosting-jitsi-video-conferencing/</link>
      <pubDate>Sun, 19 Apr 2020 00:00:00 +0000</pubDate>
      
      <guid>https://srikanthperinkulam.com/2020/04/19/self-hosting-jitsi-video-conferencing/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://jitsi.org/&#34;&gt;Jit.si&lt;/a&gt; is a terrific, secure video-conferencing #alternative to #Zoom and obviously comes with all the open-source awesomeness. Call clarity is amazing and with a room capacity of 100+ (and potentially much more, driven by network and server capabilities), it&amp;rsquo;s an absolute no-brainer to switch over. Use &lt;a href=&#34;https://meet.jit.si/&#34;&gt;Jitsi Meet&lt;/a&gt; on the desktop or use one of their slick android, F-droid or iPhone apps on hand-held devices to organise your video conferences.&lt;/p&gt;
&lt;p&gt;With the recent push to video-conferencing most meetings, I decided to setup my own instance. This was way more straightforward than I thought! I am currenty running it as a docker container, fronted with #Traefik for encryption. Configuration and installation steps mentioned below assume you have access to a domain name and server with docker already installed.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Setting up the server:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;A records:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Create a new A record with your hosting provider to point your subdomain to the IP address of your server&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;images/image.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SSH into server and install&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;It should cost you only about 5$ per month for a decent server configuration. I already had an account with Hetzner, so I deployed my instance there.&lt;/p&gt;
&lt;p&gt;SSH into your server: &lt;code&gt;sudo ssh user@xx.xx.xx.xx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Initialise a swarm: &lt;code&gt;sudo docker swarm init&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Create the traefik network: &lt;code&gt;sudo docker network create --driver=overlay traefik-net&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Create two new yml files - one for traefik-ssl and another for jitsi, copy over the contents from the respective files &lt;a href=&#34;https://github.com/ethibox/stacks&#34;&gt;available here from ethibox&lt;/a&gt; and make edits as needed:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo nano traefik-ssl.yml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo nano jitsi.yml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Deploy the Traefik stack: &lt;code&gt;sudo docker stack deploy -c traefik-ssl.yml traefik&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Deploy the Jitsi stack: &lt;code&gt;DOMAIN=meet.srkn.org SCHEME=https docker stack deploy -c jitsi.yml jitsi&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;If all goes well, you should now have a Jitsi instance running on your server with routing and ssl taken care of by Traefik.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Configuring Jitsi:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;You now need to setup the admin account. Login to the Jitsi prosody container. (Update command to reflect your container name):&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker exec -it jitsi_prosody_1.xxxxxx bash&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Set as many host credentials as you need:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;prosodyctl --config /config/prosody.cfg.lua register host meet.jitsi usejitsi&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Exit out of the console! You now have a fully functional self-hosted Video-conference running! Do note that the recording feature currently does not work outright. Will have to sort that out over the next few days.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Desktop and Mobile clients:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I decided to go the &lt;a href=&#34;https://github.com/jitsi/jitsi-meet-electron/#jitsi-meet-electron&#34;&gt;electron route&lt;/a&gt; for the desktop client. Jitsi has apps for both android and iOS that work out of the box. Just make sure you set the domains to yours.&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<p><a href="https://jitsi.org/">Jit.si</a> is a terrific, secure video-conferencing #alternative to #Zoom and obviously comes with all the open-source awesomeness. Call clarity is amazing and with a room capacity of 100+ (and potentially much more, driven by network and server capabilities), it&rsquo;s an absolute no-brainer to switch over. Use <a href="https://meet.jit.si/">Jitsi Meet</a> on the desktop or use one of their slick android, F-droid or iPhone apps on hand-held devices to organise your video conferences.</p>
<p>With the recent push to video-conferencing most meetings, I decided to setup my own instance. This was way more straightforward than I thought! I am currenty running it as a docker container, fronted with #Traefik for encryption. Configuration and installation steps mentioned below assume you have access to a domain name and server with docker already installed.</p>
<p><strong>Setting up the server:</strong></p>
<p><strong>A records:</strong></p>
<p>Create a new A record with your hosting provider to point your subdomain to the IP address of your server</p>
<p><img loading="lazy" src="images/image.png" alt=""  />
</p>
<p><strong>SSH into server and install</strong>:</p>
<p>It should cost you only about 5$ per month for a decent server configuration. I already had an account with Hetzner, so I deployed my instance there.</p>
<p>SSH into your server: <code>sudo ssh user@xx.xx.xx.xx</code></p>
<p>Initialise a swarm: <code>sudo docker swarm init</code></p>
<p>Create the traefik network: <code>sudo docker network create --driver=overlay traefik-net</code></p>
<p>Create two new yml files - one for traefik-ssl and another for jitsi, copy over the contents from the respective files <a href="https://github.com/ethibox/stacks">available here from ethibox</a> and make edits as needed:</p>
<p><code>sudo nano traefik-ssl.yml</code></p>
<p><code>sudo nano jitsi.yml</code></p>
<p>Deploy the Traefik stack: <code>sudo docker stack deploy -c traefik-ssl.yml traefik</code></p>
<p>Deploy the Jitsi stack: <code>DOMAIN=meet.srkn.org SCHEME=https docker stack deploy -c jitsi.yml jitsi</code></p>
<p>If all goes well, you should now have a Jitsi instance running on your server with routing and ssl taken care of by Traefik.</p>
<p><strong>Configuring Jitsi:</strong></p>
<p>You now need to setup the admin account. Login to the Jitsi prosody container. (Update command to reflect your container name):</p>
<p><code>docker exec -it jitsi_prosody_1.xxxxxx bash</code></p>
<p>Set as many host credentials as you need:</p>
<p><code>prosodyctl --config /config/prosody.cfg.lua register host meet.jitsi usejitsi</code></p>
<p>Exit out of the console! You now have a fully functional self-hosted Video-conference running! Do note that the recording feature currently does not work outright. Will have to sort that out over the next few days.</p>
<p><strong>Desktop and Mobile clients:</strong></p>
<p>I decided to go the <a href="https://github.com/jitsi/jitsi-meet-electron/#jitsi-meet-electron">electron route</a> for the desktop client. Jitsi has apps for both android and iOS that work out of the box. Just make sure you set the domains to yours.</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>02 Apr 2020 00:00</title>
      <link>https://srikanthperinkulam.com/2020/04/02/red-run-hike/</link>
      <pubDate>Thu, 02 Apr 2020 00:00:00 +0000</pubDate>
      
      <guid>https://srikanthperinkulam.com/2020/04/02/red-run-hike/</guid>
      <description>&lt;p&gt;Nancy was itching for a run and we finally decided to take her outdoors. We hiked/ran about 2 miles starting out at Dolfield Blvd and into the woods instead of the regular paved section. I&amp;rsquo;d biked here last year so I was decently familiar with this section of the trail. Let her explore on her own as I trailed behind. We decided to turn around at the point where the trail leads on to the Soldier&amp;rsquo;s delight Natural environmental area.&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;Crisp, bright weather! Shasta had a ball of time outdoors too. Her first outing in now almost two months post the Covid19 outbreak!&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<p>Nancy was itching for a run and we finally decided to take her outdoors. We hiked/ran about 2 miles starting out at Dolfield Blvd and into the woods instead of the regular paved section. I&rsquo;d biked here last year so I was decently familiar with this section of the trail. Let her explore on her own as I trailed behind. We decided to turn around at the point where the trail leads on to the Soldier&rsquo;s delight Natural environmental area.</p>
<!-- raw HTML omitted -->
<p>Crisp, bright weather! Shasta had a ball of time outdoors too. Her first outing in now almost two months post the Covid19 outbreak!</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>04 Feb 2020 00:00</title>
      <link>https://srikanthperinkulam.com/2020/02/04/state-of-the-networks-jan-2020/</link>
      <pubDate>Tue, 04 Feb 2020 00:00:00 +0000</pubDate>
      
      <guid>https://srikanthperinkulam.com/2020/02/04/state-of-the-networks-jan-2020/</guid>
      <description>&lt;p&gt;&lt;em&gt;A quick rundown on the state of the home-servers I run or applications I host on the cloud.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Last week I opened up my Nextcloud instance for external access. Now, since my brother&amp;rsquo;s RPi4 was already exposed on the same network, I had to setup a reverse proxy on another RPi3 to access both simultaneously behind the router. Here&amp;rsquo;s the current setup:&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;images/State-of-the-Network-Jan-2020-.jpg&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Proxy server:&lt;/strong&gt; An RPi3 running on Raspbian Buster Lite with HAProxy installed to handle the reverse proxy. Here&amp;rsquo;s the &lt;a href=&#34;https://gist.github.com/sriperinkulam/23fee95d454fe3a9ff18a0555734e3ab&#34;&gt;gist of the code&lt;/a&gt; that&amp;rsquo;s handling all the heavy lifting. Since SSL is handled by the other servers themselves, all I needed was a quick pass-through handshake from HAProxy.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Server 01:&lt;/strong&gt; An RPi3 running on NextcloudPi essentially serving Nextcloud for all my file needs. Data is simultaneously backed up on a couple machines within the network. Decided against a remote backup [S3/Backblaze] for now.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Server 02:&lt;/strong&gt; An RPi4 running on Diet-Pi and serving Pi-Hole and a Nextcloud instance. I&amp;rsquo;ve turned off DHCP on the Orbi router and delegated that to the Pi-Hole. Both the Pi-Hole and the router have static IPs assigned to the SBCs and my trusty Dell machine based on their MAC address. I&amp;rsquo;m debating if I should move the Pi-Hole over to the Proxy Server&amp;hellip;&lt;/p&gt;
&lt;p&gt;Beyond the home-lab, I have a droplet with DigitalOcean serving this website and a few other portals I manage. ServerPilot runs in the background on that droplet taking care of all the critical needs. I do intend to shift this over to a home-lab once I get hold of my ODroid XU4 which is currently in the Uganda shipment several thousand miles away in Chennai!&lt;/p&gt;
&lt;p&gt;Early this year, I also procured a Hetzner cloud instance to test its stability and see if I could move over certain portals to it. Should say I&amp;rsquo;m pretty impressed! Running on Debian Stretch and powered by Yunohost, I installed &lt;a href=&#34;https://pixel.srkn.org/sriperinkulam&#34;&gt;PixelFed&lt;/a&gt; and Wallabag. Installation has never been any easier! One drawback for sure is that the code-base may be a bit lagged as it gets deployed on Yunohost. Nevertheless, it&amp;rsquo;s pure magic to see things getting installed with just a few clicks and not much back-end work.&lt;/p&gt;
&lt;p&gt;And then, I manage a Moodle Bitnami instance running on an AWS instance. I intend to move it over to the Hetzner cloud over the next month or so.&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<p><em>A quick rundown on the state of the home-servers I run or applications I host on the cloud.</em></p>
<p>Last week I opened up my Nextcloud instance for external access. Now, since my brother&rsquo;s RPi4 was already exposed on the same network, I had to setup a reverse proxy on another RPi3 to access both simultaneously behind the router. Here&rsquo;s the current setup:</p>
<p><img loading="lazy" src="images/State-of-the-Network-Jan-2020-.jpg" alt=""  />
</p>
<p><strong>Proxy server:</strong> An RPi3 running on Raspbian Buster Lite with HAProxy installed to handle the reverse proxy. Here&rsquo;s the <a href="https://gist.github.com/sriperinkulam/23fee95d454fe3a9ff18a0555734e3ab">gist of the code</a> that&rsquo;s handling all the heavy lifting. Since SSL is handled by the other servers themselves, all I needed was a quick pass-through handshake from HAProxy.</p>
<p><strong>Server 01:</strong> An RPi3 running on NextcloudPi essentially serving Nextcloud for all my file needs. Data is simultaneously backed up on a couple machines within the network. Decided against a remote backup [S3/Backblaze] for now.</p>
<p><strong>Server 02:</strong> An RPi4 running on Diet-Pi and serving Pi-Hole and a Nextcloud instance. I&rsquo;ve turned off DHCP on the Orbi router and delegated that to the Pi-Hole. Both the Pi-Hole and the router have static IPs assigned to the SBCs and my trusty Dell machine based on their MAC address. I&rsquo;m debating if I should move the Pi-Hole over to the Proxy Server&hellip;</p>
<p>Beyond the home-lab, I have a droplet with DigitalOcean serving this website and a few other portals I manage. ServerPilot runs in the background on that droplet taking care of all the critical needs. I do intend to shift this over to a home-lab once I get hold of my ODroid XU4 which is currently in the Uganda shipment several thousand miles away in Chennai!</p>
<p>Early this year, I also procured a Hetzner cloud instance to test its stability and see if I could move over certain portals to it. Should say I&rsquo;m pretty impressed! Running on Debian Stretch and powered by Yunohost, I installed <a href="https://pixel.srkn.org/sriperinkulam">PixelFed</a> and Wallabag. Installation has never been any easier! One drawback for sure is that the code-base may be a bit lagged as it gets deployed on Yunohost. Nevertheless, it&rsquo;s pure magic to see things getting installed with just a few clicks and not much back-end work.</p>
<p>And then, I manage a Moodle Bitnami instance running on an AWS instance. I intend to move it over to the Hetzner cloud over the next month or so.</p>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
