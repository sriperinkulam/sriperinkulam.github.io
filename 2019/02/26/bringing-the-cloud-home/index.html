<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Bringing the cloud home | Srikanth Perinkulam</title>
<meta name=keywords content="chatter,diet-pi,odroid-xu4,raspberry-pi3,yunohost"><meta name=description content="I finally got my Shoebox server setup working! I now have three Single board Computer [SBC] working in tandem behind my home router to accomplish what I&rsquo;ve been wanting to do for quite sometime now - Setting up an easy-to-maintain, in-house server for all my data and web hosting needs. Fixing this all together has been a tremendous learning experience. I still need to weed out some pesky issues but I believe I have the bearing right now."><meta name=author content="map[email:ssphugo@srkn.anonaddy.com name:Srikanth Perinkulam nick:SSP]"><link rel=canonical href=https://srikanthperinkulam.com/2019/02/26/bringing-the-cloud-home/><link crossorigin=anonymous href=/assets/css/stylesheet.7932e219d50fa95c3eab398b1b761eea2084c8d45c1b2090ef9acc5ba59d0032.css integrity="sha256-eTLiGdUPqVw+qzmLG3Ye6iCEyNRcGyCQ75rMW6WdADI=" rel="preload stylesheet" as=style><link rel=icon href=https://srikanthperinkulam.com/images/favicon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://srikanthperinkulam.com/images/favicon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://srikanthperinkulam.com/images/favicon/favicon-32x32.png><link rel=apple-touch-icon href=https://srikanthperinkulam.com/images/favicon/apple-touch-icon.png><link rel=mask-icon href=https://srikanthperinkulam.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://srikanthperinkulam.com/2019/02/26/bringing-the-cloud-home/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=webmention href=https://webmention.io/srikanthperinkulam.com/webmention><link rel=pingback href=https://webmention.io/srikanthperinkulam.com/xmlrpc><script src=/webmention.min.js async></script><script src=https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.4.1/purify.min.js integrity="sha512-uHOKtSfJWScGmyyFr2O2+efpDx2nhwHU2v7MVeptzZoiC7bdF6Ny/CmZhN2AwIK1oCFiVQQ5DA/L9FSzyPNu6Q==" crossorigin=anonymous referrerpolicy=no-referrer></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css><meta property="og:title" content="Bringing the cloud home"><meta property="og:description" content="I finally got my Shoebox server setup working! I now have three Single board Computer [SBC] working in tandem behind my home router to accomplish what I&rsquo;ve been wanting to do for quite sometime now - Setting up an easy-to-maintain, in-house server for all my data and web hosting needs. Fixing this all together has been a tremendous learning experience. I still need to weed out some pesky issues but I believe I have the bearing right now."><meta property="og:type" content="article"><meta property="og:url" content="https://srikanthperinkulam.com/2019/02/26/bringing-the-cloud-home/"><meta property="og:image" content="https://srikanthperinkulam.com/images/favicon/apple-touch-icon.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-02-26T00:00:00+00:00"><meta property="article:modified_time" content="2019-02-26T00:00:00+00:00"><meta property="og:site_name" content="Srikanth Perinkulam"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://srikanthperinkulam.com/images/favicon/apple-touch-icon.png"><meta name=twitter:title content="Bringing the cloud home"><meta name=twitter:description content="I finally got my Shoebox server setup working! I now have three Single board Computer [SBC] working in tandem behind my home router to accomplish what I&rsquo;ve been wanting to do for quite sometime now - Setting up an easy-to-maintain, in-house server for all my data and web hosting needs. Fixing this all together has been a tremendous learning experience. I still need to weed out some pesky issues but I believe I have the bearing right now."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://srikanthperinkulam.com/posts/"},{"@type":"ListItem","position":2,"name":"Bringing the cloud home","item":"https://srikanthperinkulam.com/2019/02/26/bringing-the-cloud-home/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Bringing the cloud home","name":"Bringing the cloud home","description":"I finally got my Shoebox server setup working! I now have three Single board Computer [SBC] working in tandem behind my home router to accomplish what I\u0026rsquo;ve been wanting to do for quite sometime now - Setting up an easy-to-maintain, in-house server for all my data and web hosting needs. Fixing this all together has been a tremendous learning experience. I still need to weed out some pesky issues but I believe I have the bearing right now.\n","keywords":["chatter","diet-pi","odroid-xu4","raspberry-pi3","yunohost"],"articleBody":"I finally got my Shoebox server setup working! I now have three Single board Computer [SBC] working in tandem behind my home router to accomplish what I’ve been wanting to do for quite sometime now - Setting up an easy-to-maintain, in-house server for all my data and web hosting needs. Fixing this all together has been a tremendous learning experience. I still need to weed out some pesky issues but I believe I have the bearing right now.\nHere’s my current setup:\nNexcloudPi installed on a Raspberry pi 3B+ board Yunohost installed on an Odroid XU4 board Diet-Pi installed on another Raspberry pi 3B+ board I’ve been using Nextcloud as my data storage solution for more than a year now. It does what I expect it to do and much more. NextcloudPi handles the intricate details and takes out the hassles that come with hosting data on personal servers.\nOn the ODroid-XU4, I installed debian stretch as the base OS and then manually installed Yunohost as my web server. I use ServerPilot on my Digital ocean servers and was looking for a close match while self hosting. Love YHs web-ui and they did seem to support quite a few web apps. I also have my eyes on cozy and caprover. Might explore these at a later point in time if decide to switch to a different SBC.\nBoth NextcloudPi and Yunohost have letsencrypt tools to setup and manage certificates for the domains/sub domains. While super useful, I realised to benefit from that feature, I had to rely on haproxy. With some pointers from the Nextcloud forum, I decided to use another pi to front as the main server. Installed Diet-pi on it since it’s just something I really liked and configured haproxy on it to map to the corresponding server based on the hostname. While at it, I also added in a switch between the router and various servers.\nI still need to work on making this more robust. One niggling issue is the speed is heavily compromised. I’m guessing it’s do with my haproxy config and I should be able to fix it pretty soon. Once I have this sorted out, I need to spend some time hardening the security of the server, further configure Yunohost, device my backup strategies and finally moving my websites over from Digital Ocean.\n","wordCount":"390","inLanguage":"en","image":"https://srikanthperinkulam.com/images/favicon/apple-touch-icon.png","datePublished":"2019-02-26T00:00:00Z","dateModified":"2019-02-26T00:00:00Z","author":{"@type":"Person","name":{"email":"ssphugo@srkn.anonaddy.com","name":"Srikanth Perinkulam","nick":"SSP"}},"mainEntityOfPage":{"@type":"WebPage","@id":"https://srikanthperinkulam.com/2019/02/26/bringing-the-cloud-home/"},"publisher":{"@type":"Organization","name":"Srikanth Perinkulam","logo":{"@type":"ImageObject","url":"https://srikanthperinkulam.com/images/favicon/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://srikanthperinkulam.com/ accesskey=h title="Srikanth Perinkulam (Alt + H)">Srikanth Perinkulam</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://srikanthperinkulam.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://srikanthperinkulam.com/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://srikanthperinkulam.com/micro/ title=Micro><span>Micro</span></a></li><li><a href=https://srikanthperinkulam.com/now/ title=Now><span>Now</span></a></li><li><a href=https://srikanthperinkulam.com/photos/ title=Photos><span>Photos</span></a></li><li><a href=https://srikanthperinkulam.com/rewind/ title=Rewind><span>Rewind</span></a></li><li><a href=https://srikanthperinkulam.com/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://srikanthperinkulam.com/contact/ title=Contact><span>Contact</span></a></li><li><a href=https://srikanthperinkulam.com/more/ title=More><span>More</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://srikanthperinkulam.com/>Home</a>&nbsp;»&nbsp;<a href=https://srikanthperinkulam.com/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Bringing the cloud home</h1><div class=post-meta><span title='2019-02-26 00:00:00 +0000 UTC'>February 26, 2019</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;390 words&nbsp;·&nbsp;SSP</div></header><div class=post-content><p>I finally got my Shoebox server setup working! I now have three Single board Computer [SBC] working in tandem behind my home router to accomplish what I&rsquo;ve been wanting to do for quite sometime now - Setting up an easy-to-maintain, in-house server for all my data and web hosting needs. Fixing this all together has been a tremendous learning experience. I still need to weed out some pesky issues but I believe I have the bearing right now.</p><p>Here&rsquo;s my current setup:</p><ol><li><a href=https://ownyourbits.com/nextcloudpi/>NexcloudPi</a> installed on a <a href=https://www.raspberrypi.org/products/raspberry-pi-3-model-b-plus/>Raspberry pi 3B+</a> board</li><li><a href=https://yunohost.org/#/>Yunohost</a> installed on an <a href=https://www.hardkernel.com/shop/odroid-xu4-special-price/>Odroid XU4</a> board</li><li><a href=https://dietpi.com/>Diet-Pi</a> installed on another Raspberry pi 3B+ board</li></ol><p>I&rsquo;ve been using Nextcloud as my data storage solution for more than a year now. It does what I expect it to do and much more. NextcloudPi handles the intricate details and takes out the hassles that come with hosting data on personal servers.</p><p>On the ODroid-XU4, I installed debian stretch as the base OS and then manually installed Yunohost as my web server. I use ServerPilot on my Digital ocean servers and was looking for a close match while self hosting. Love YHs web-ui and they did seem to support quite a few web apps. I also have my eyes on <a href=https://docs.cozy.io/en/tutorials/selfhost-debian/>cozy</a> and <a href=https://caprover.com/>caprover</a>. Might explore these at a later point in time if decide to switch to a different SBC.</p><p>Both NextcloudPi and Yunohost have letsencrypt tools to setup and manage certificates for the domains/sub domains. While super useful, I realised to benefit from that feature, I had to rely on haproxy. With some <a href=https://help.nextcloud.com/t/accessing-nextcloudpi-behind-haproxy/47489>pointers from the Nextcloud forum</a>, I decided to use another pi to front as the main server. Installed Diet-pi on it since it&rsquo;s just something I really liked and configured haproxy on it to map to the corresponding server based on the hostname. While at it, I also added in a switch between the router and various servers.</p><p>I still need to work on making this more robust. One niggling issue is the speed is heavily compromised. I&rsquo;m guessing it&rsquo;s do with my haproxy config and I should be able to fix it pretty soon. Once I have this sorted out, I need to spend some time hardening the security of the server, further configure Yunohost, device my backup strategies and finally moving my websites over from Digital Ocean.</p></div><div class=comments><button id=toggle-comments class="btn btn-primary" style="margin:10px 0;padding:10px 20px;font-size:16px;border-radius:5px">
💬 Show Interactions and Comments</button><div id=comments-section style=display:none><form id=contactForm class=form><input type=text id=hiddenField name=hiddenField style=display:none><div class=form-group><label for=message></label>
<textarea id=message name=message class=form-control placeholder="Type in your comment." rows=5 required style="background-color:#f0f8ff;border:1px solid #007bff"></textarea></div><div class=form-group style=display:flex;justify-content:space-between><div style=flex:1;margin-right:10px><label for=name>Name</label>
<input type=text id=name name=name class=form-control placeholder="Or alias?" required style="background-color:#f0f8ff;border:1px solid #007bff"></div><div style=flex:1><label for=email>E-mail</label>
<input type=email id=email name=email class=form-control placeholder="Will not be published" required style="background-color:#f0f8ff;border:1px solid #007bff"></div></div><div class=form-group><label for=website>Website (optional)</label>
<input type=url id=website name=website class=form-control placeholder="Your Website" style="background-color:#f0f8ff;border:1px solid #007bff"></div><div class=form-group style=text-align:right><button type=submit class="btn2 btn2-primary">Submit</button></div></form><div class=message id=responseMessage style=display:none></div><div class="comments-display p-6 bg-gray-50 dark:bg-gray-900 rounded-lg shadow-md"><p class="text-gray-500 dark:text-gray-400">No comments yet. Be the first to comment!</p></div></div></div><script>function sanitizeInput(e){const t=document.createElement("div");return t.innerText=e,t.innerHTML}document.getElementById("contactForm").addEventListener("submit",function(e){e.preventDefault();const s=document.getElementById("hiddenField").value;if(s){document.getElementById("responseMessage").innerText="Submission rejected due to spam detection.";return}const o=sanitizeInput(document.getElementById("message").value),t=sanitizeInput(document.getElementById("name").value),i=sanitizeInput(document.getElementById("email").value),n=sanitizeInput(document.getElementById("website").value),a=document.title,r=window.location.href,c=`${n?`[@${t}](${n})`:`@*${t}*`} posted this comment on [${a}](${r}): 
${o}. 
E-mail: ${i}`,l="https://gtfy.srkn.org/hugosspcomments";fetch(l,{method:"POST",headers:{"Content-Type":"text/plain",Authorization:"Bearer tk_phfhehnwzk2qi3hdydxo3rxgd193w",Markdown:"yes"},body:c}).then(e=>{if(e.ok)showMessage("Thank you. Your comment has been received and will be published once moderated."),document.getElementById("contactForm").reset();else throw new Error("Network response was not ok.")}).catch(e=>{showMessage("There was a problem sending your message."),console.error("There was a problem with the fetch operation:",e)})});function showMessage(e){const t=document.getElementById("responseMessage");t.innerHTML=e,t.style.display="block",t.classList.add("fade-in"),setTimeout(()=>{t.classList.remove("fade-in")},1e4)}document.getElementById("toggle-comments").addEventListener("click",function(){var e=document.getElementById("comments-section");e.style.display==="none"?(e.style.display="block",this.textContent="💬 Hide Interactions and Comments"):(e.style.display="none",this.textContent="💬 Show Interactions and Comments")})</script><style>.btn{background-color:#007bff;color:#fff;border:none;cursor:pointer;transition:background-color .3s ease}.btn:hover{background-color:#0056b3}.btn:focus{outline:none}.container{max-width:600px;margin:auto;padding:20px;background-color:var(--bg-container);border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,.1)}.form-group{margin-bottom:15px}.form-control{width:100%;padding:10px;border:1px solid var(--border-color);border-radius:4px;background:var(--input-bg);color:#000}.form-control:focus{outline:none;border-color:#007bff;box-shadow:0 0 5px rgba(0,123,255,.5)}.btn2{padding:10px 15px;border:none;border-radius:4px;cursor:pointer}.btn2-primary{background-color:#007bff;color:#fff}.btn2-primary:hover{background-color:#0056b3}.message{margin-top:20px;text-align:center;padding:15px;border-radius:5px;background-color:#e7f3fe;color:#31708f;border:1px solid #bce8f1;display:none;opacity:0;transition:opacity .5s ease-in-out}.fade-in{opacity:1}</style><footer class=post-footer><ul class=post-tags><li><a href=https://srikanthperinkulam.com/tags/chatter/>Chatter</a></li><li><a href=https://srikanthperinkulam.com/tags/diet-pi/>Diet-Pi</a></li><li><a href=https://srikanthperinkulam.com/tags/odroid-xu4/>Odroid-Xu4</a></li><li><a href=https://srikanthperinkulam.com/tags/raspberry-pi3/>Raspberry-Pi3</a></li><li><a href=https://srikanthperinkulam.com/tags/yunohost/>Yunohost</a></li></ul><nav class=paginav><a class=prev href=https://srikanthperinkulam.com/2019/03/20/baseline-road-trail/><span class=title>« Prev</span><br><span>Baseline Road Trail</span>
</a><a class=next href=https://srikanthperinkulam.com/2019/02/24/skiing-at-liberty/><span class=title>Next »</span><br><span>Skiing at Liberty</span></a></nav></footer></article></main><footer class=footer></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><footer class=footer><section class=h-card><a class="u-url u-uid" href=https://srikanthperinkulam.com/><span class=p-name>Srikanth Perinkulam</span>
</a><span><img class=u-photo src=/images/favicon/favicon-32x32.png style=display:none alt></span>
<span class=p-note><br>Mountains, Family, Privacy and everything else.<br>Current location: <span class=p-locality>CDMX >> Cameroon.</span><br>Contact: <a class=u-url rel=me href=https://micro.blog/sp>Micro.blog</a> |
<a class=u-url rel=me href=https://chat.srkn.org/@ssp>Fediverse</a> |
<a class=u-url rel=me href=https://github.com/sriperinkulam>Github</a></span></section></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>